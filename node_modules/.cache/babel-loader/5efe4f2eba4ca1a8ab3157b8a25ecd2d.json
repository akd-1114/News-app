{"ast":null,"code":"var _jsxFileName = \"/home/akashdeep/React/one/src/components/Navbar.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport List from \"@material-ui/core/List\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Button from \"@material-ui/core/Button\";\nimport Axios from \"axios\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Content from \"./Content\";\nimport ListOfData from \"./ListOfData\";\nimport nyt from \"../nyt.png\";\nimport Chart from \"./Chart\";\nconst drawerWidth = 285;\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: theme.spacing(1)\n    },\n    backgroundColor: \"#e0e0e0\"\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0\n  },\n  one: {\n    fontFamily: \"sans-serif\"\n  },\n  drawerPaper: {\n    width: drawerWidth,\n    backgroundColor: \"#eeeeee\"\n  },\n  head: {\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  search: {\n    width: `calc(55% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth + 30,\n    position: \"relative\",\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: \"white\",\n    marginRight: theme.spacing(5),\n    padding: theme.spacing(1, 0, 1, 1),\n    marginTop: 15,\n    height: \"100%\"\n  },\n  searchIcon: {\n    padding: theme.spacing(1, 1, 3, 1),\n    height: \"100%\",\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  inputRoot: {\n    color: \"inherit\",\n    width: \"100%\"\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`\n  },\n  margin: {\n    margin: theme.spacing(1, 0),\n    height: 48,\n    marginTop: theme.spacing(2),\n    borderRadius: 25,\n    opacity: 0.7,\n    width: `10%`,\n    fontSize: 16\n  },\n  progress: {\n    margin: theme.spacing(2),\n    marginTop: 150,\n    marginLeft: drawerWidth + 300\n  },\n  chart: {\n    margin: theme.spacing(2),\n    marginTop: 50,\n    marginLeft: drawerWidth + 20,\n    width: \"70%\"\n  }\n}));\nexport default function PermanentDrawerLeft() {\n  const classes = useStyles();\n  const [inputText, setInputText] = useState(\"\");\n  const [data, setData] = useState();\n  const [loading, setLoading] = useState(false);\n  const [page, setPage] = useState(1);\n  const [topic, setTopic] = useState(\"\");\n  const [show, setShow] = useState(false);\n  const [showChart, setShowChart] = useState(false);\n  const [chartLoading, setChartLoading] = useState(false);\n  const [dArray, setDArray] = useState([]);\n  useEffect(() => {\n    if (show) {\n      setLoading(true);\n      const text = topic;\n      Axios.get(\"https://api.nytimes.com/svc/search/v2/articlesearch.json?q=\" + text + \"&page=\" + page + \"&sort=newest&api-key=xrp7NPZMKRQ3U8nmHM5UMXu2XwBKYXei&begin_date=20110101&end_date=20201231\").then(res => {\n        setData(res.data.response.docs);\n        setInputText(\"\");\n        setLoading(false); // console.log(res.data.response.docs);\n      }).catch(err => {\n        console.log(err);\n        setLoading(false);\n      });\n    }\n  }, [page, show, topic]);\n  useEffect(() => {\n    if (show && loading === false) {\n      setChartLoading(true);\n      let dArray = new Array(5);\n      const input = topic;\n      const pubkey = \"xrp7NPZMKRQ3U8nmHM5UMXu2XwBKYXei\";\n      Axios.get(\"https://api.nytimes.com/svc/search/v2/articlesearch.json?begin_date=20160101&end_date=20161231&q=\" + input + \"&api-key=\" + pubkey).then(response => {\n        dArray[0] = response.data.response.meta.hits;\n        Axios.get(\"https://api.nytimes.com/svc/search/v2/articlesearch.json?begin_date=20170101&end_date=20171231&q=\" + input + \"&api-key=\" + pubkey).then(response => {\n          dArray[1] = response.data.response.meta.hits;\n          Axios.get(\"https://api.nytimes.com/svc/search/v2/articlesearch.json?begin_date=20180101&end_date=20181231&q=\" + input + \"&api-key=\" + pubkey).then(response => {\n            dArray[2] = response.data.response.meta.hits;\n            Axios.get(\"https://api.nytimes.com/svc/search/v2/articlesearch.json?begin_date=20190101&end_date=20191231&q=\" + input + \"&api-key=\" + pubkey).then(response => {\n              dArray[3] = response.data.response.meta.hits;\n              Axios.get(\"https://api.nytimes.com/svc/search/v2/articlesearch.json?begin_date=20200101&end_date=20201231&q=\" + input + \"&api-key=\" + pubkey).then(response => {\n                dArray[4] = response.data.response.meta.hits;\n                setShowChart(true);\n                setDArray(dArray);\n                setChartLoading(false);\n              }).catch(error => {\n                console.log(error);\n                setChartLoading(false);\n              });\n            }).catch(error => {\n              console.log(error);\n              setChartLoading(false);\n            });\n          }).catch(error => {\n            console.log(error);\n            setChartLoading(false);\n          });\n        }).catch(error => {\n          console.log(error);\n          setChartLoading(false);\n        });\n      }).catch(error => {\n        console.log(error);\n        setChartLoading(false);\n      });\n    }\n  }, [show, topic, loading]);\n\n  const inputTextHandler = event => {\n    setInputText(event.target.value);\n  };\n\n  const enterPressed = event => {\n    var code = event.keyCode || event.which;\n\n    if (code === 13) {\n      searchClickHandler();\n    }\n  };\n\n  const searchClickHandler = () => {\n    setShow(true);\n    if (inputText) setTopic(inputText);\n    setPage(1);\n  };\n\n  const handleChange = (event, value) => {\n    setPage(value);\n  };\n\n  let result = /*#__PURE__*/React.createElement(Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 16\n    }\n  });\n  let chartResult;\n\n  if (loading === false && data && chartLoading) {\n    chartResult = /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h5\",\n      style: {\n        width: \"100%\",\n        textAlign: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 7\n      }\n    }, \"Please wait Chart is loading....\");\n  } else if (chartLoading === false && showChart) {\n    chartResult = /*#__PURE__*/React.createElement(Chart, {\n      topic: topic,\n      dArray: dArray,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 19\n      }\n    });\n  }\n\n  if (loading) {\n    result = /*#__PURE__*/React.createElement(CircularProgress, {\n      className: classes.progress,\n      size: 100,\n      thickness: 3.5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 7\n      }\n    });\n  } else if (data) {\n    result = /*#__PURE__*/React.createElement(ListOfData, {\n      data: data,\n      topic: topic,\n      handleChange: handleChange,\n      page: page,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 7\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.searchIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(SearchIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(InputBase, {\n    placeholder: \"Search\\u2026\",\n    classes: {\n      root: classes.inputRoot,\n      input: classes.inputInput\n    },\n    inputProps: {\n      \"aria-label\": \"search\"\n    },\n    onChange: inputTextHandler,\n    value: inputText,\n    onKeyPress: enterPressed,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    className: classes.margin,\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: searchClickHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 9\n    }\n  }, \"Search\"), /*#__PURE__*/React.createElement(Drawer, {\n    className: classes.drawer,\n    variant: \"permanent\",\n    classes: {\n      paper: classes.drawerPaper\n    },\n    anchor: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: nyt,\n    alt: \"Logo\",\n    style: {\n      marginTop: \"10px\",\n      height: \"40px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 11\n    }\n  }), \";\", /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 11\n    }\n  }, [\"Dashboard\", \"Articles\", \"Analytics\", \"Message\", \"Calendar\"].map((text, index) => /*#__PURE__*/React.createElement(ListItem, {\n    button: true,\n    key: text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ListItemText, {\n    primary: text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 19\n    }\n  })))))), result, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.chart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 7\n    }\n  }, chartResult));\n}","map":{"version":3,"sources":["/home/akashdeep/React/one/src/components/Navbar.js"],"names":["React","useState","useEffect","makeStyles","Drawer","List","SearchIcon","ListItem","ListItemText","InputBase","Button","Axios","CircularProgress","Typography","Content","ListOfData","nyt","Chart","drawerWidth","useStyles","theme","root","display","margin","spacing","backgroundColor","drawer","width","flexShrink","one","fontFamily","drawerPaper","head","justifyContent","alignItems","search","marginLeft","position","borderRadius","shape","marginRight","padding","marginTop","height","searchIcon","pointerEvents","inputRoot","color","inputInput","paddingLeft","opacity","fontSize","progress","chart","PermanentDrawerLeft","classes","inputText","setInputText","data","setData","loading","setLoading","page","setPage","topic","setTopic","show","setShow","showChart","setShowChart","chartLoading","setChartLoading","dArray","setDArray","text","get","then","res","response","docs","catch","err","console","log","Array","input","pubkey","meta","hits","error","inputTextHandler","event","target","value","enterPressed","code","keyCode","which","searchClickHandler","handleChange","result","chartResult","textAlign","paper","map","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport List from \"@material-ui/core/List\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Button from \"@material-ui/core/Button\";\nimport Axios from \"axios\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport Content from \"./Content\";\nimport ListOfData from \"./ListOfData\";\nimport nyt from \"../nyt.png\";\nimport Chart from \"./Chart\";\n\nconst drawerWidth = 285;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: theme.spacing(1),\n    },\n    backgroundColor: \"#e0e0e0\",\n  },\n\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  one: {\n    fontFamily: \"sans-serif\",\n  },\n  drawerPaper: {\n    width: drawerWidth,\n    backgroundColor: \"#eeeeee\",\n  },\n  head: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  search: {\n    width: `calc(55% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth + 30,\n    position: \"relative\",\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: \"white\",\n    marginRight: theme.spacing(5),\n    padding: theme.spacing(1, 0, 1, 1),\n    marginTop: 15,\n    height: \"100%\",\n  },\n  searchIcon: {\n    padding: theme.spacing(1, 1, 3, 1),\n    height: \"100%\",\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  inputRoot: {\n    color: \"inherit\",\n    width: \"100%\",\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n  },\n  margin: {\n    margin: theme.spacing(1, 0),\n    height: 48,\n    marginTop: theme.spacing(2),\n    borderRadius: 25,\n    opacity: 0.7,\n    width: `10%`,\n    fontSize: 16,\n  },\n  progress: {\n    margin: theme.spacing(2),\n    marginTop: 150,\n    marginLeft: drawerWidth + 300,\n  },\n  chart: {\n    margin: theme.spacing(2),\n    marginTop: 50,\n    marginLeft: drawerWidth + 20,\n    width: \"70%\",\n  },\n}));\n\nexport default function PermanentDrawerLeft() {\n  const classes = useStyles();\n\n  const [inputText, setInputText] = useState(\"\");\n  const [data, setData] = useState();\n  const [loading, setLoading] = useState(false);\n  const [page, setPage] = useState(1);\n  const [topic, setTopic] = useState(\"\");\n  const [show, setShow] = useState(false);\n  const [showChart, setShowChart] = useState(false);\n  const [chartLoading, setChartLoading] = useState(false);\n  const [dArray, setDArray] = useState([]);\n\n  useEffect(() => {\n    if (show) {\n      setLoading(true);\n      const text = topic;\n      Axios.get(\n        \"https://api.nytimes.com/svc/search/v2/articlesearch.json?q=\" +\n          text +\n          \"&page=\" +\n          page +\n          \"&sort=newest&api-key=xrp7NPZMKRQ3U8nmHM5UMXu2XwBKYXei&begin_date=20110101&end_date=20201231\"\n      )\n        .then((res) => {\n          setData(res.data.response.docs);\n\n          setInputText(\"\");\n          setLoading(false);\n          // console.log(res.data.response.docs);\n        })\n\n        .catch((err) => {\n          console.log(err);\n          setLoading(false);\n        });\n    }\n  }, [page, show, topic]);\n\n  useEffect(() => {\n    if (show && loading === false) {\n      setChartLoading(true);\n      let dArray = new Array(5);\n      const input = topic;\n      const pubkey = \"xrp7NPZMKRQ3U8nmHM5UMXu2XwBKYXei\";\n      Axios.get(\n        \"https://api.nytimes.com/svc/search/v2/articlesearch.json?begin_date=20160101&end_date=20161231&q=\" +\n          input +\n          \"&api-key=\" +\n          pubkey\n      )\n        .then((response) => {\n          dArray[0] = response.data.response.meta.hits;\n          Axios.get(\n            \"https://api.nytimes.com/svc/search/v2/articlesearch.json?begin_date=20170101&end_date=20171231&q=\" +\n              input +\n              \"&api-key=\" +\n              pubkey\n          )\n            .then((response) => {\n              dArray[1] = response.data.response.meta.hits;\n              Axios.get(\n                \"https://api.nytimes.com/svc/search/v2/articlesearch.json?begin_date=20180101&end_date=20181231&q=\" +\n                  input +\n                  \"&api-key=\" +\n                  pubkey\n              )\n                .then((response) => {\n                  dArray[2] = response.data.response.meta.hits;\n                  Axios.get(\n                    \"https://api.nytimes.com/svc/search/v2/articlesearch.json?begin_date=20190101&end_date=20191231&q=\" +\n                      input +\n                      \"&api-key=\" +\n                      pubkey\n                  )\n                    .then((response) => {\n                      dArray[3] = response.data.response.meta.hits;\n                      Axios.get(\n                        \"https://api.nytimes.com/svc/search/v2/articlesearch.json?begin_date=20200101&end_date=20201231&q=\" +\n                          input +\n                          \"&api-key=\" +\n                          pubkey\n                      )\n                        .then((response) => {\n                          dArray[4] = response.data.response.meta.hits;\n                          setShowChart(true);\n\n                          setDArray(dArray);\n                          setChartLoading(false);\n                        })\n                        .catch((error) => {\n                          console.log(error);\n                          setChartLoading(false);\n                        });\n                    })\n                    .catch((error) => {\n                      console.log(error);\n                      setChartLoading(false);\n                    });\n                })\n                .catch((error) => {\n                  console.log(error);\n                  setChartLoading(false);\n                });\n            })\n            .catch((error) => {\n              console.log(error);\n              setChartLoading(false);\n            });\n        })\n        .catch((error) => {\n          console.log(error);\n          setChartLoading(false);\n        });\n    }\n  }, [show, topic, loading]);\n\n  const inputTextHandler = (event) => {\n    setInputText(event.target.value);\n  };\n\n  const enterPressed = (event) => {\n    var code = event.keyCode || event.which;\n    if (code === 13) {\n      searchClickHandler();\n    }\n  };\n\n  const searchClickHandler = () => {\n    setShow(true);\n    if (inputText) setTopic(inputText);\n    setPage(1);\n  };\n\n  const handleChange = (event, value) => {\n    setPage(value);\n  };\n\n  let result = <Content />;\n\n  let chartResult;\n\n  if (loading === false && data && chartLoading) {\n    chartResult = (\n      <Typography variant=\"h5\" style={{ width: \"100%\", textAlign: \"center\" }}>\n        Please wait Chart is loading....\n      </Typography>\n    );\n  } else if (chartLoading === false && showChart) {\n    chartResult = <Chart topic={topic} dArray={dArray} />;\n  }\n\n  if (loading) {\n    result = (\n      <CircularProgress\n        className={classes.progress}\n        size={100}\n        thickness={3.5}\n      />\n    );\n  } else if (data) {\n    result = (\n      <ListOfData\n        data={data}\n        topic={topic}\n        handleChange={handleChange}\n        page={page}\n      />\n    );\n  }\n\n  return (\n    <React.Fragment>\n      <div className={classes.root}>\n        <div className={classes.search}>\n          <div className={classes.searchIcon}>\n            <SearchIcon />\n          </div>\n          <InputBase\n            placeholder=\"Search…\"\n            classes={{\n              root: classes.inputRoot,\n              input: classes.inputInput,\n            }}\n            inputProps={{ \"aria-label\": \"search\" }}\n            onChange={inputTextHandler}\n            value={inputText}\n            onKeyPress={enterPressed}\n          />\n        </div>\n        <Button\n          className={classes.margin}\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={searchClickHandler}\n        >\n          Search\n        </Button>\n        <Drawer\n          className={classes.drawer}\n          variant=\"permanent\"\n          classes={{\n            paper: classes.drawerPaper,\n          }}\n          anchor=\"left\"\n        >\n          {/* <h1 className={classes.one}>The New York Times</h1> */}\n          <img\n            src={nyt}\n            alt=\"Logo\"\n            style={{\n              marginTop: \"10px\",\n              height: \"40px\",\n            }}\n          />\n          ;\n          <List>\n            {[\"Dashboard\", \"Articles\", \"Analytics\", \"Message\", \"Calendar\"].map(\n              (text, index) => (\n                <ListItem button key={text}>\n                  <ListItemText primary={text} />\n                </ListItem>\n              )\n            )}\n          </List>\n        </Drawer>\n      </div>\n      {result}\n      <div className={classes.chart}>{chartResult}</div>\n    </React.Fragment>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}